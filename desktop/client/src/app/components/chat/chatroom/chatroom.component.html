<div fxLayout="column" fxLayoutAlign="center stretch" fxFlex="100">

   <!-- Titre -->
   <div fxLayout="row" fxLayoutAlign="space-evenly center">
     <div></div>
     <h1> Clavardage </h1>
     <div fxLayout="row" fxLayoutAlign="center center" id="disconnectDiv" (click)="this.chatService.disconnect()" routerLink="/home">
       <span>Déconnexion</span>
       <mat-icon color="primary">exit_to_app</mat-icon>
     </div>
   </div>

   <!-- Encadré du chat -->
   <div fxFlex="70" fxLayout="row" fxLayoutAlign="center stretch">
     <div  fxFlex="50" class="bordered" fxLayout="column" fxLayoutAlign="center stretch">

       <!-- Colonne ayant le chat, l'input et le bouton -->
       <div fxFlex="92" fxLayout="column" fxLayoutAlign="end stretch" >

         <!-- Messages -->
         <div fxFlex="90" fxLayout="row" fxLayoutAlign="center center">
           <div fxFlex="90" fxLayout="column" fxLayoutAlign="end stretch" class="bordered fullHeight scrollable" >

             <!-- Individual message -->
             <div fxLayout="column" fxLayoutAlign="center stretch"  *ngFor="let message of this.messageList">

               <!-- Right message / Message sent -->
               <div *ngIf="message.mine"  fxLayout="row" fxLayoutAlign="end center" >
                 <div fxFlex="47" fxLayout="column" fxLayoutAlign="center end" >

                   <div class="username">
                     {{message.userName}}
                   </div>
                   <div class="message mine">
                     {{message.message}}
                   </div>

                 </div>
                 <div fxFlex="3"></div>
               </div>

               <!-- Left message / Message received -->
               <div *ngIf="!message.mine"  fxLayout="row" fxLayoutAlign="start center" >
                 <div fxFlex="3"></div>
                 <div fxFlex="47" fxLayout="column" fxLayoutAlign="center start" >

                   <div class="username">
                     {{message.userName}}
                   </div>
                   <div class="message yours">
                     {{message.message}}
                   </div>

                 </div>
               </div>

             </div>

           </div>
         </div>

         <div fxFlex="5"></div>

         <!-- Input et Boutton -->
         <div fxLayout="row" fxLayoutAlign="center stretch">
           <div fxFlex="5"></div>
           <input class="bordered" fxFlex="70" matInput placeholder="Écris ton message ici!" type="text" [(ngModel)]="this.message">
           <button fxFlex="20" mat-raised-button color="primary" (click)="sendMessage()">Send</button>
           <div fxFlex="5"></div>
         </div>

       </div>
     </div>
   </div>

 </div>
